<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario con Validación</title>
</head>
<body>

    <h2>Formulario</h2>
    <form id="formulario" onsubmit="return validarFormulario()">
        <label for="nombre">Nombre:</label>
        <input type="text" id="nombre" name="nombre"><br><br>

        <label for="apellido">Apellido:</label>
        <input type="text" id="apellido" name="apellido"><br><br>

        <label for="edad">Edad:</label>
        <input type="number" id="edad" name="edad"><br><br>

        <button type="submit">Enviar</button>
    </form>

    <h2>Tabla de Datos</h2>
    <table id="tabla" border="1">
        <thead>
            <tr>
                <th>Nombre</th>
                <th>Apellido</th>
                <th>Edad</th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>

    <script>
        // Función para validar los campos antes de añadir los datos a la tabla
        function validarFormulario() {
            // Obtener los valores de los campos del formulario
            var nombre = document.getElementById("nombre").value;
            var apellido = document.getElementById("apellido").value;
            var edad = document.getElementById("edad").value;

            // Verificar si algún campo está vacío
            if (nombre === "" || apellido === "" || edad === "") {
                alert("Todos los campos son obligatorios.");
                return false; // No enviar el formulario ni añadir a la tabla
            }

            // Si todos los campos están completos, agregar los datos a la tabla
            agregarATabla(nombre, apellido, edad);

            // Limpiar los campos del formulario
            document.getElementById("nombre").value = "";
            document.getElementById("apellido").value = "";
            document.getElementById("edad").value = "";

            return false; // Prevenir el envío del formulario (ya se ha añadido a la tabla)
        }

        // Función para agregar una fila a la tabla con los datos del formulario
        function agregarATabla(nombre, apellido, edad) {
            var tabla = document.getElementById("tabla").getElementsByTagName('tbody')[0];

            // Crear una nueva fila
            var fila = tabla.insertRow();

            // Insertar celdas y agregar los valores correspondientes
            var celdaNombre = fila.insertCell(0);
            celdaNombre.textContent = nombre;

            var celdaApellido = fila.insertCell(1);
            celdaApellido.textContent = apellido;

            var celdaEdad = fila.insertCell(2);
            celdaEdad.textContent = edad;
        }
    </script>

</body>
</html>
